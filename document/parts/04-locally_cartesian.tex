\chapter{Localizations of Syntactic Categories}\label{chapter4}

In this chapter we finally talk about localizing syntactic categories. To do
this, we first specify a class of maps we localize at, explaining the rationale
behind our choice, and then from this we present a fibrational structure which
will allow us to apply the results from the previous section to prove Kapulkin's
Theorem \ref{finalthm}. The main difference between our proof and his
original one \cite{Kap14} will be our usage of extended logical structures,
mimicking his later methods from \cite{Kap17}. We conclude with a section
summarizing what we have done.

\section{Bi-Invertibility}

As anticipated, we introduce a notion of weak equivalence in our context.

\begin{defn}
  Given a contextual category with $\Ids$-structure $\sfC$, a morphism
  $f\colon\Gamma.A\rightarrow\Gamma.B$ over $\Gamma$ is \emph{simply
    bi-invertible over $\Gamma$} if there exist:
  \begin{enumerate}
    \item a morphism $g_1\colon\Gamma.B\rightarrow\Gamma.A$;
    \item a section
      $\eta\colon\Gamma.A\rightarrow\Gamma.A.(1_{A},g_1f)^*\Ids_{A}$;
    \item a morphism $g_2\colon\Gamma.B\rightarrow\Gamma.A$;
    \item a section
      $\epsilon\colon\Gamma.B\rightarrow\Gamma.B.(1_{B},fg_2)^*\Ids_{B}$.
  \end{enumerate}
\end{defn}

\noindent
We now generalize the above definition to arbitrary context extensions in
$\Syn{T}$ by working as usual with $\Syn{T}^{\cxt}$ to provide the notion given
in \cite[Def.~1.4]{Kap17}.

\begin{defn}
  Given a dependent type theory with $\Ids$-types $\T$, a morphism
  $f\colon\Gamma.\Delta\rightarrow\Gamma.\Theta$ over $\Gamma$ in $\Syn{T}$ is
  \emph{bi-invertible over $\Gamma$} if it is simply bi-invertible over $\Gamma$
  as a morphism between the two corresponding simple context extensions of
  $\Gamma$ in $\Syn{T}^{\cxt}$. It is then called \emph{bi-invertible} if
  $\Gamma$ is the empty context.
\end{defn}

\begin{rmk}
  A morphism $f\colon\Gamma.\Delta\rightarrow\Gamma.\Theta$ bi-invertible over
  $\Gamma$ is also bi-invertible since we can extend a section
  $\Gamma.\Delta\rightarrow\Gamma.\Delta.(1_\Delta,gf)^*\Ids_\Delta$
  to a section
  $\Gamma.\Delta\rightarrow\Gamma.\Delta.(1_{\Gamma.\Delta},gf)^*\Ids_{\Gamma.\Delta}$
  thanks to the map
  $\refl_\Gamma\colon\Gamma\rightarrow\Gamma.p^*_\Gamma\Gamma.\Id_\Gamma$.
\end{rmk}

\begin{rmk}
  Our definition of bi-invertible map is less general than the one generally
  presented (which concerns arbitrary contextual categories with an
  $\Ids$-structure) because that one relies on strong $\Sigmas$-types, which we
  do not assume, or on the $\Ids$-structure on iterated context extensions,
  however we did not provide the construction for arbitrary contextual
  categories.
\end{rmk}

\begin{rmk}
  Our interest in simply bi-invertible morphisms stems from the fact that simple
  ones model the right notion of invertible map in dependent type theory:
  indeed, from the
  required data for a simply bi-invertible map $f$ over $\Gamma$ we can provide
  a section $\Gamma\rightarrow\Gamma.\ishiso{f}$
  as defined in \cite[Def.\ B.3.3]{KL12}, which itself is the translation into
  the language of contextual categories of the notion of bi-invertible map in
  type theory \cite[Def.\ 4.3.1]{Uni13}.

\noindent
  It is important to note that, while type theory has no way to encode
  internally the concept of isomorphism of the contextual model, it does have
  its own internal notion of isomorphism. However, given a type-theoretic map
  $f$, the associated type $\isiso{f}$ is not, in general, a \emph{mere
  proposition} \cite[Def.\ 3.3.1]{Uni13}, unlike $\ishiso{f}$
  \cite[Thm.\ 4.3.2]{Uni13}, which makes the latter
  preferable. Also, every bi-invertible map can be given the structure of an
  type-theoretic isomorphism and viceversa, hence they are closely related.
\end{rmk}

\begin{rmk}
  Assuming the Initiality Conjecture \ref{initconj}, localizing a contextual
  category with an
  $\Ids$-structure at bi-invertible maps gives us an $\infty$-category modeling a
  dependent type theory with $\Ids$-types. It has been conjectured that such
  type theories should provide the internal languages of $\infty$-categories, but a
  precise statement of this correspondence has not yet been produced and only a
  few results in this direction have been proven so far. A conjecture of this kind
  would amount to an equivalence between an $\infty$-category of contextual
  categories with some extra structures and an $\infty$-category of structured
  $\infty$-categories induced by the localization at bi-invertible maps, which
  means that first have to determine what properties the localization has.
  Notable in this sense is the already mentioned Internal Languages Conjecture
  \ref{intlang}.
\end{rmk}

\noindent
To study the localizations of syntactic categories we want to apply
the results from the previous section, which require us to specify a
fibrational structure by also providing a class
of fibrations.

\begin{defn}[\cite{Bro73}]\label{fibcats}
  A \emph{fibration category} is a triple $(\cP,W,\fib)$ where $\cP$ is a
  category and $W$, $\fib$ are subcategories such that:
  \begin{enumerate}
    \item $\cP$ has a terminal object;
    \item maps to the terminal object lie in $\fib$;
    \item $\fib$ and $W\cap \fib$ are closed under pullback along any map in $\cP$;
    \item every map in $\cP$ can be factored as a map in $W$ followed by one in
      $\fib$;
    \item $W$ has the 2-out-of-6 property.
  \end{enumerate}
\end{defn}

\begin{rmk}
  Seeing $\cP$, $W$ and $\fib$ in the above definition as $\infty$-categories by
  applying the nerve functor, we
  notice that the triple has canonically the structure of an $\infty$-category
  of fibrant objects, hence we shall adopt the conventions we used in that
  context.
\end{rmk}

\begin{rmk}[\cite{Shu14}]
  Our definition differs slightly from the original one by Brown
  because it asks for $W$ to be closed under the 2-out-of-6 property
  instead of the more classical 2-out-of-3, but, as shown by
  Cisinski, if all of
  the other axioms are satisfied then the following are equivalent:
  \begin{enumerate}
    \item $W$ has the 2-out-of-6 property;
    \item $W$ has the 2-out-of-3 and is saturated, that is a morphism in $\cP$
      becomes invertible in $\ho(\cP)$ if and only if it lies in $W$.
  \end{enumerate}
  See \cite[Thm.~7.2.7]{RB06}. Another difference is that Brown only requires
  factorizations of the diagonal maps $X\rightarrow X\times X$, but then he
  derives our factorization condition from the other properties.
\end{rmk}

\noindent
Now we have enough to specify the fibrational structure.

\begin{prop}[{\cite[Thm.\ 3.2.5]{AKL15}}]
  Any contextual category with $\Sigmas$-, $\Ids$-, $\Nat$- and
  $\mathsf{1}$-structures $\sfC$ carries the structure of a fibration category,
  where the class of fibrations is given by all maps isomorphic to dependent
  projections and weak equivalences correspond to all of the bi-invertible ones.
\end{prop}

\noindent
The above result can be however generalized.

\begin{prop}\label{fibcat}
  A contextual category with $\Sigmas$- and $\Ids$-structures $\sfC$ carries
  the structure of a fibration category given by the same classes of maps as
  above.
\end{prop}
\begin{proof}
  It suffices to note that at no point the proof uses the other structures.
\end{proof}

\begin{rmk}
  The results as stated rely on the Initiality Conjecture \ref{initconj} (since
  in their reasoning the authors used internal languages) and their proof makes
  use of strong $\Sigmas$-types, which they adopted to say that every dependent
  projection is isomorphic to a basic one. We
  can avoid relying on strong $\Sigmas$-types by constructing the fibrational
  structure on $\Syn{T}^{\cxt}$ (where the condition on dependent projections
  holds by construction) to later carry it back to $\Syn{T}$ through the
  equivalence, while we do not need the Initiality Conjecture because we can
  argue in $\Syn{T}^{\cxt}$ using the dependent type theory $\T$.
\end{rmk}

\begin{cor}\label{fincompl1}
  Given a dependent type theory with $\Sigmas$- and $\Ids$-types $\T$, the
  associated $\infty$-category $L(N(\Syn{T}))$ is finitely complete.
\end{cor}
\begin{proof}
  It follows directly from Proposition \ref{fibcat} and Proposition \ref{7518}.
\end{proof}

\section{Local Cartesian Closure}

We are now ready to provide a few results needed to show that, given a dependent
type theory with $\Sigmas$-, $\Ids$- and $\Piext$-types $\T$, the hypothesis of
Theorem \ref{7616} are satisfied by $\Syn{T}$ with respect to the above
fibrational structure. Henceforth, we shall write $\sfC$ for $\Syn{T}$.

\begin{lem}[{\cite[Thm.\ 9.3.15]{Kap14}}]\label{radj}
  For any dependent projection $p_\Delta\colon\Gamma.\Delta\rightarrow\Gamma$ in
  $\sfC$, the pullback functor
  $p_\Delta^*\colon\sfC(\Gamma)\rightarrow\sfC(\Gamma.\Delta)$ between the
  fibrant slices admits a right adjoint.
\end{lem}
\begin{proof}
  Let's set $(p_\Delta)_*(\Gamma.\Delta.\Theta)=\Gamma.\Pis(\Delta,\Theta)$. Our
  counit shall be given by
  \[\epsilon_{\Gamma.\Delta.\Theta}\colon\Gamma.\Delta.p^*_\Delta\Pis(\Delta,\Theta)
  \xrightarrow{\exch_{\Delta,\Pis(\Delta,\Theta)}}\Gamma.\Pis(\Delta,\Theta).p^*_{\Pis(\Delta,\Theta)}\Delta
  \xrightarrow{\app_{\Delta,\Theta}}\Gamma.\Delta.\Theta\]
  and it is then sufficient to prove that, for any context morphism
  $f\colon\Gamma.\Delta.p^*_\Delta\Psi\rightarrow\Gamma.\Delta.\Theta$ over
  $\Gamma.\Delta$, there is
  a unique $\tilde{f}\colon\Gamma.\Psi\rightarrow\Gamma.\Pis(\Delta,\Theta)$
  making the diagram
  \[\begin{tikzcd}
    {\Gamma.\Delta.p^*_\Delta\Psi} \\
    {\Gamma.\Delta.p^*_\Delta\Pis(\Delta,\Theta)} & {\Gamma.\Delta.\Theta}
    \arrow["f", from=1-1, to=2-2]
    \arrow["{\epsilon_{\Gamma.\Delta.\Theta}}"', from=2-1, to=2-2]
    \arrow["{p^*_\Delta(\tilde{f})}"', dotted, from=1-1, to=2-1]
  \end{tikzcd}\]
  commute. This will then uniquely define how the right adjoint acts on the
  morphisms.

\noindent
  We start by specifying the unit
  $\eta_{\Gamma.\Psi}\colon\Gamma.\Psi\rightarrow\Gamma.\Pis(\Delta,p^*_{\Delta}\Psi)$.

\noindent
  Let's consider the commutative square
  \[\begin{tikzcd}[column sep=huge]
    {\Gamma.\Psi.p^*_\Psi\Pis(\Delta,p^*_\Delta\Psi)} & {\Gamma.\Pis(\Delta,p^*_\Delta\Psi)} \\
    {\Gamma.\Psi} & \Gamma
    \arrow["{p_{\Pis(\Delta,p^*_\Delta\Psi)}}"', from=1-1, to=2-1]
    \arrow["{p_{\Psi}}"', from=2-1, to=2-2]
    \arrow["{p_{\Pis(\Delta,p^*_\Delta\Psi)}}", from=1-2, to=2-2]
    \arrow["{q(p_\Psi,\Pis(\Delta,p^*_\Delta\Psi))}", from=1-1, to=1-2]
  \end{tikzcd}\]
  where the map $q(p_\Psi,\Pis(\Delta,p^*_\Delta\Psi))$ acts as $(y,g)\mapsto
  g$. If we can provide a section of the left map
  corresponding to $y\mapsto(y,\lambda(x:\Delta).y)$ we are
  done as we can then compose
  it with $q(p_\Psi,\Pis(\Delta,p^*_\Delta\Psi))$ to get our unit
  $y\mapsto\lambda(x:\Delta).y$.
  
\noindent
  To construct it we pull back the map
  $\id_{\Psi}\colon\Gamma\rightarrow\Gamma.\Pis(\Psi,p^*_\Psi\Psi)$ from
  Construction \ref{idterm} along $p_{p^*_\Psi\Delta}$, getting a section
  \[p^*_{p^*_\Psi\Delta}\id_{\Psi}\colon\Gamma.\Psi.p^*_\Psi\Delta\rightarrow\Gamma.\Psi.p^*_\Psi\Delta.p^*_{p^*_\Psi\Delta}\Psi.\]

\noindent
  We then apply $\lambda_{\Delta,\Psi}$, thereby getting a section
  \[\lambda_{\Delta,\Psi}(p^*_{p^*_\Psi\Delta}\id_\Psi)
    =\lambda_{\Delta,\Psi}(1_{p^*_\Psi\Delta},p_{p^*_\Psi\Delta})
\colon\Gamma.\Psi\rightarrow\Gamma.\Psi.p^*_\Psi\Pis(\Delta,p^*_\Delta\Psi),\]
  which is exactly what we were looking for.

  \noindent
  Let us define our lift $\tilde{f}$ as the composite
  $\Gamma.\Pis(\Delta,f)\cdot\eta_{\Gamma.\Psi}$, where $\Gamma.\Pis(\Delta,f)$
  was specified in Construction \ref{postcomp}. The commutativity of the above
  triangle follows by type-theoretic reasoning from
  \begin{align*}
    (x,y) \\
    ^{\eta_{\Gamma.\Psi}}
    &\mapsto(x,\lambda(x:\Delta).y) \\
    ^{\Gamma.\Pis(\Delta,f)}
    &\mapsto(x,\lambda(x:\Delta).\app(\hat{f},\app(\lambda(x:\Delta).y,x))) \\
    ^{\beta\text{-reduction}}
    &\equiv(x,\lambda(x:\Delta).\app(\hat{f},y)) \\
    ^{\exch_{\Pis(\Delta,\Psi),\Delta}}
    &\mapsto(\lambda(x:\Delta).\app(\hat{f},y),x) \\
    ^{\app_{\Delta,\Psi}}
    &\mapsto(x,\app(\lambda(x:\Delta).\app(\hat{f},y),x)) \\
    ^{\beta\text{-reduction}}
    &\equiv(x,\app(\hat{f},y))
  \end{align*}
  and our description of
  $f\colon\Gamma.\Delta.p^*_\Delta\Psi\rightarrow\Gamma.\Delta.\Theta$ in
  Remark \ref{applyf}, while the
  uniqueness of $\tilde{f}$ comes from the fact that we can not construct
  another derivation of the form
  \[\Gamma,x:\Delta,y:\Psi\vdash g:\Pis(\Delta,\Theta)\]
  such that
  \[\Gamma,x:\Delta,y:\Psi\vdash\app(g,x)\equiv\app(\hat{f},y):\Theta(x).\]
  Indeed, we can derive
  \begin{align*}
    y \\
        &\mapsto g \\
        ^{\eta\text{-conversion}}&\equiv\lambda(x:\Delta).\app(g,x) \\
                                 &\equiv\lambda(x:\Delta).\app(\hat{f},y) \\
                                 &\equiv\app(\hat{\tilde{f}},y),
  \end{align*}
  which concludes the proof.

  \noindent
  This also shows that $(p_{\Delta})_*(f)=\Gamma.\Pis(\Delta,f)$, meaning that
  the construction of $\Gamma.\Pis(\Delta,f)$ is functorial.
\end{proof}

\noindent
We know that every fibration in $\sfC$ is isomorphic to a dependent
projection, so this tells us that every fibration induces an adjunction
between fibrant slices.

\noindent
To apply Theorem \ref{7616}, we need to show that $(p_\Delta)_*$ is left exact
(actually, we need to prove that it preserves trivial fibrations, but it
essentially requires the same amount of work), which we shall do in two steps.

\begin{lem}[{\cite[Lem.\ 2.29]{KL18}}]\label{wepreserved}
  Consider a bi-invertible
  map $f\colon\Gamma.\Delta.\Theta\rightarrow\Gamma.\Delta.\Psi$ over
  $\Gamma.\Delta$ in $\sfC$. The
  map $\Gamma.\Pis(\Delta,f)$ is then bi-invertible over $\Gamma$.
\end{lem}
\begin{proof}
  We shall construct an homotopical right inverse to $\Gamma.\Pis(\Delta,f)$ by
  working with $g_1$ and $\eta$ since the other part of the construction
  involving $g_2$ and $\epsilon$ is essentially identical. To do so, we consider
  the commutative diagram
  \[\begin{tikzcd}[column sep=huge]
    {\Gamma.\Delta.\Psi.(1_\Psi,fg_1)^*\Ids_{\Psi}} & {\Gamma.\Delta.\Psi.p^*_\Psi\Psi.\Ids_\Psi} \\
    {\Gamma.\Delta.\Psi} & {\Gamma.\Delta.\Psi.p^*_\Psi\Psi}
    \arrow["{p_{(1_\Psi,fg_1)^*\Ids_{\Psi}}}", from=1-1, to=2-1]
    \arrow["\eta", curve={height=-12pt}, from=2-1, to=1-1]
    \arrow["{p_{\Ids_\Psi}}", from=1-2, to=2-2]
    \arrow["{(1_\Psi,fg_1)}"', from=2-1, to=2-2]
    \arrow["{q((1_\Psi,fg_1),\Ids_\Psi)}", from=1-1, to=1-2]
  \end{tikzcd}\]
  in $\sfC(\Gamma.\Delta)$ and apply the right adjoint $(p_\Delta)_*$, which
  gives us
  \begin{align*}
    (p_\Delta)_*(q((1_\Psi,fg_1),\Ids_\Psi)\cdot\eta) &\colon\Gamma.\Pis(\Delta,\Psi)\rightarrow \\
                             &\Gamma.\Pis(\Delta,\Psi.p^*_\Psi\Psi.\Ids_\Psi)=
    \Gamma.\Pis(\Delta,\Psi).p^*_{\Pis(\Delta,\Psi)}\Pis(\Delta,\Psi).\Htp_{\Delta,\Psi}
  \end{align*}
  in $\sfC(\Gamma)$. Postcomposing with the function extensionality map
  \[\ext_{\Delta,\Psi}\colon
    \Gamma.\Pis(\Delta,\Psi).p^*_{\Pis(\Delta,\Psi)}\Pis(\Delta,\Psi).\Htp_{\Delta,\Psi}
    \rightarrow
  \Gamma.\Pis(\Delta,\Psi).p^*_{\Pis(\Delta,\Psi)}\Pis(\Delta,\Psi).\Ids_{\Pis(\Delta,\Psi)},\]
  we obtain a morphism
  \[h\colon\Gamma.\Pis(\Delta,\Psi)\rightarrow
  \Gamma.\Pis(\Delta,\Psi).p^*_{\Pis(\Delta,\Psi)}\Pis(\Delta,\Psi).\Ids_{\Pis(\Delta,\Psi)}\]
  fitting in the commutative diagram
  \[\scriptsize{\begin{tikzcd}[column sep=small]
    {\Gamma.\Pis(\Delta,\Psi)} \\
    & {\Gamma.\Pis(\Delta,\Psi).(1_{\Psi(\Delta,\Psi)},\Gamma.\Pis(\Delta,(1_\Psi,fg_1))^*\Ids_{\Pis(\Delta,\Psi)}}
    & {\Gamma.\Pis(\Delta,\Psi).p^*_{\Pis(\Delta,\Psi)}\Pis(\Delta,\Psi).\Ids_{\Pis(\Delta,\Psi)}} \\
    & {\Gamma.\Pis(\Delta,\Psi)}
    & {\Gamma.\Pis(\Delta,\Psi).p^*_{\Pis(\Delta,\Psi)}\Pis(\Delta,\Psi)}
    \arrow["{p_{\Ids_{\Pis(\Delta,\Psi)}}}", from=2-3, to=3-3]
    \arrow["{(1_{\Psi(\Delta,\Psi)},\Gamma.\Pis(\Delta,(1_\Psi,fg_1)))}"', from=3-2, to=3-3]
    \arrow["{p_{(1_{\Psi(\Delta,\Psi)},\Gamma.\Pis(\Delta,(1_\Psi,fg_1))^*\Ids_{\Pis(\Delta,\Psi)}}}", from=2-2, to=3-2]
    \arrow[from=2-2, to=2-3]
    \arrow["h", curve={height=-12pt}, from=1-1, to=2-3]
    \arrow[curve={height=30pt}, Rightarrow, no head, from=1-1, to=3-2]
    \arrow[dotted, from=1-1, to=2-2]
  \end{tikzcd}}\]
  and thereby inducing the factorization shown, which is what we needed.
\end{proof}

\begin{lem}[{\cite[Thm.\ 9.3.15]{Kap14}}]\label{lccfc}
  In the above conditions, the functor
  $$(p_\Delta)_*\colon\sfC(\Gamma.\Delta)\rightarrow\sfC(\Gamma),\quad
  \Gamma.\Delta.\Theta\mapsto\Gamma.\Pis(\Delta,\Theta)$$ is left exact.
\end{lem}
\begin{proof}
  As a right adjoint, $(p_\Delta)_*$ preserves limits and in particular
  pullbacks and the terminal object. Also, by Lemma \ref{piequal}, it preserves
  dependent projections and Lemma \ref{wepreserved} tells us that the same
  goes for weak equivalences, which concludes the proof.
\end{proof}

\noindent
Again, the above extends to all fibrations in $\sfC$ and it allows to prove
Kapulkin's result \cite[Thm.\ 9.3.17]{Kap14}.

\begin{thm}\label{finalthm}
  Let $\T$ be a dependent type theory with $\Sigmas$-, $\Ids$- and
  $\Piext$-types. The localization of the nerve of $\Syn{T}$ at
  bi-invertible maps $L(N(\Syn{T}))$ is a locally Cartesian closed
  $\infty$-category.
\end{thm}
\begin{proof}
  We already know that it is finitely complete by Corollary \ref{fincompl1}. The
  hypothesis of Theorem \ref{7616} are satisfied by Lemma \ref{radj} and Lemma
  \ref{lccfc}.
\end{proof}

\section{Conclusions}

We wrap up by summarizing what we have done and presenting developments which
followed the proof.

\noindent
In Chapter \ref{chapter1} we introduced dependent type theories, specifying the
logical rules we would consider throughout, and then contextual categories, a
class of algebraic models for type-theoretic structural rules. As a motivating
example, we introduced the syntactic category of a dependent type theory
$\Syn{T}$. Later, we presented extra structures on contextual categories meant
to interpret logical rules and some constructions derived from
$\Pis$-structures, showing what they correspond to in $\Syn{T}$. We were careful
to explain the role of the Initiality Conjecture \ref{initconj} in the field,
referring the state of the art, and
in Remark \ref{internal} we showed some results derived from it and our
theorem, like the Internal Languages Conjecture \ref{internal}, which we will
get to at the end of this section.

\noindent
Going back to our summary, in Chapter \ref{chapter2} we moved on to extending
the logical structures so that we may talk about $\Gamma.\Pis(\Delta,\Theta)$,
$\Gamma.\Delta.p^*_\Delta\Delta.\Ids_\Delta$ and so on even when $\Delta,\Theta$
are not simple context extensions, focusing specifically on $\Pis$-structures
(see Lemma \ref{extpistruct}). This was instrumental in our proof of Theorem
\ref{finalthm} and a deviation from Kapulkin's approach in \cite{Kap14}, but
identical to the one he took instead in \cite{Kap17}.

\noindent
In Chapter \ref{chapter3} we presented a theory of localizations of
$\infty$-categories referring to Cisinski's work \cite{Cis19}. Our objective was
to provide some sufficient conditions under which the localization of an
$\infty$-category would be locally cartesian closed and to do this we introduced
$\infty$-categories with weak equivalences and fibrations \ref{fibicat}, which
generalize model categories and, more specifically, fibration categories
\ref{fibcat}. The conditions were then given by Theorem \ref{7616}.

\noindent
Finally, in Chapter \ref{chapter4} we introduced, for a class of dependent type
theories $\T$, a notion of bi-invertible map in $\Syn{T}$ describing the weak
equivalences we intended to localize at and then a fibrational structure,
allowing us to refer to the results of the previous section when talking about
$L(N(\Syn{T}))$. To prove that this latter $\infty$-category is locally
cartesian closed we aimed to apply Theorem \ref{7616}, for which
we provided a right adjoint to the pullback functor between fibrant
slices $p^*_\Delta\colon\Syn{T}(\Gamma)\rightarrow\Syn{T}(\Gamma.\Delta)$
through Lemma \ref{radj} and then showed that it is left exact, leading up to
Theorem \ref{finalthm}, our objective.

\noindent
A generalization of this result produced by Kapulkin in \cite{Kap17}
applies to all contextual categories with the
logical structures meant to model the considered logical rules and a similar one
concerns finitely complete $\infty$-categories as a corollary of Szumilo's
work on fibration categories \cite{Szu14} or, more recently, Theorem \ref{7518}.
This led to the formulation of the Internal Languages Conjecture \cite[Conj.\
3.7]{KL16}, which we now briefly explain as anticipated.

\begin{named}[Internal Languages]\label{intlang}
  The horizontal functors
  \[\begin{tikzcd}
    {\Cxl_{\Sigmas,\mathsf{1},\Ids,\Piext}} & \LCCCi \\
    {\Cxl_{\Sigmas,\mathsf{1},\Ids}} & \Lexi
    \arrow[from=2-1, to=2-2]
    \arrow[from=1-2, to=2-2]
    \arrow[from=1-1, to=2-1]
    \arrow[from=1-1, to=1-2]
  \end{tikzcd}\]
  given by simplicial localization are $DK$-equivalences, where the homotopical
  categories involved are the ones of contextual categories with the indicated
  logical structures and those of properly structured $\infty$-categories.
  Specifically, $\Lexi$ and $\LCCCi$ have respectively finitely complete and
  locally cartesian closed $\infty$-categories as objects, while their morphisms
  are left exact functors.
\end{named}

\noindent
A proof was recently provided by Nguyen-Uemura \cite{NU22} and this
conjecture means that producing an $\infty$-category with the appropriate
properties is equivalent to presenting a contextual category with the specified
logical structures and, therefore, a dependent type theory with the
corresponding logical rules (its internal language) through which
one may equivalently reason about the $\infty$-category and viceversa,
establishing a strong link between the two theories.
However, so far we have been able to explicitly construct the corresponding
contextual category from a locally Cartesian closed $\infty$-category only if
the latter is locally presentable \cite{Shu14}, meaning that we do not have a
concrete definition of the homotopical inverses to the localization functors.

\noindent
There is currently an ongoing project to 
extend the above diagram by introducing a simplicial localization
functor $\Cxl_{\mathsf{HoTT}}\rightarrow\ElToposi$ which should itself be a
$DK$-equivalence, and indeed the idea is that the ``correct'' definition of
elementary $\infty$-topos should be one which would make the statement true (see
\cite{Ras18} for a candidate and \cite{Ras21} for a characterization of
univalence in $\infty$-categories). This would allow further advances in the
study of Homotopy Type Theory and its extensions.

\noindent
Throughout our work we didn't mention what would happen if instead of taking
intensional $\Ids$-types we chose \emph{extensional} ones. This case is, in our
opinion, less interesting as such identity types are less structured and they
lack an homotopical interpretation, while also making equality undecidable,
however Seely \cite{See84} managed to relate it to locally cartesian closed
categories and to construct for each of them the associated dependent type
theory.
